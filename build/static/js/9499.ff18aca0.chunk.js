"use strict";(self.webpackChunkgestion_smart=self.webpackChunkgestion_smart||[]).push([[9499],{66853:(e,t,r)=>{r.d(t,{A:()=>u});var l=r(65043),a=r(26240),n=r(12110),o=r(79958),i=r(85865),s=r(39336),d=r(26494),c=r(70579);const p=l.forwardRef(((e,t)=>{let{children:r,content:l,contentClass:p,darkTitle:u,secondary:x,sx:h={},contentSX:g={},title:m,...y}=e;const v=(0,a.A)();return(0,c.jsxs)(n.A,{ref:t,sx:{border:"1px solid",borderColor:"dark"===v.palette.mode?v.palette.dark.light+15:v.palette.grey[200],":hover":{boxShadow:"dark"===v.palette.mode?"0 2px 14px 0 rgb(33 150 243 / 10%)":"0 2px 14px 0 rgb(32 40 45 / 8%)"},...h},...y,children:[!u&&m&&(0,c.jsx)(o.A,{sx:{p:2.5},title:(0,c.jsx)(i.A,{variant:"h5",children:m}),action:x}),u&&m&&(0,c.jsx)(o.A,{sx:{p:2.5},title:(0,c.jsx)(i.A,{variant:"h4",children:m}),action:x}),m&&(0,c.jsx)(s.A,{sx:{opacity:1,borderColor:"dark"===v.palette.mode?v.palette.dark.light+15:v.palette.grey[200]}}),l&&(0,c.jsx)(d.A,{sx:{p:2.5,...g},className:p||"",children:r}),!l&&r]})}));p.defaultProps={content:!0};const u=p},49499:(e,t,r)=>{r.r(t),r.d(t,{default:()=>se});var l=r(65043),a=r(30344),n=r(42518),o=r(83462),i=r(27285),s=r(83806),d=r(34625),c=r(3805),p=r(23541),u=r(7807),x=r(68903),h=r(88911),g=r(17392),m=r(85865),y=r(39948),v=r(69392),A=r(69525),f=r(11220),j=r(71052),b=r(55888),k=r(21978),C=r(8742),w=r(28017),D=r(70579);const M=[{label:"Month",value:"dayGridMonth",icon:f.A},{label:"Week",value:"timeGridWeek",icon:j.A},{label:"Day",value:"timeGridDay",icon:b.A},{label:"Agenda",value:"listWeek",icon:k.A}],S=e=>{let{date:t,view:r,onClickNext:o,onClickPrev:i,onClickToday:s,onChangeView:d,...c}=e;const p=(0,a.A)((e=>e.breakpoints.down("md"))),[u,f]=(0,l.useState)(M);return(0,l.useEffect)((()=>{let e=M;p&&(e=M.filter((e=>"dayGridMonth"!==e.value&&"timeGridWeek"!==e.value))),f(e)}),[p]),(0,D.jsxs)(x.Ay,{alignItems:"center",container:!0,justifyContent:"space-between",spacing:3,...c,sx:{pb:3},children:[(0,D.jsx)(x.Ay,{item:!0,children:(0,D.jsx)(n.A,{variant:"outlined",onClick:s,children:"Today"})}),(0,D.jsx)(x.Ay,{item:!0,children:(0,D.jsxs)(h.A,{direction:"row",alignItems:"center",spacing:3,children:[(0,D.jsx)(g.A,{onClick:i,size:"large","aria-label":"left side",children:(0,D.jsx)(C.A,{})}),(0,D.jsx)(m.A,{variant:"h3",color:"textPrimary",children:(0,A.A)(t,"MMMM yyyy")}),(0,D.jsx)(g.A,{onClick:o,size:"large","aria-label":"right side",children:(0,D.jsx)(w.A,{})})]})}),(0,D.jsx)(x.Ay,{item:!0,children:(0,D.jsx)(y.A,{variant:"outlined","aria-label":"outlined button group",children:u.map((e=>{const t=e.icon;return(0,D.jsx)(v.A,{title:e.label,children:(0,D.jsx)(n.A,{disableElevation:!0,variant:e.value===r?"contained":"outlined",onClick:()=>d(e.value),children:(0,D.jsx)(t,{stroke:"2",size:"20px"})})},e.value)}))})})]})};var E=r(26240),R=r(26600),T=r(39336),W=r(35316),F=r(67784),I=r(74605),P=r(19042),B=r(51787),L=r(81673),V=r(53193),z=r(78492),G=r(14256),N=r(29347),q=r(58390),Y=r(20860),Q=r(37798),U=r(53536),X=r.n(U),_=r(80899),$=r(63516);const H=e=>{let{color:t,label:r,value:l}=e;return(0,D.jsx)(I.A,{value:l,control:(0,D.jsx)(G.A,{sx:{color:t,"&.Mui-checked":{color:t}}}),label:r||"",sx:{pr:r?1:0}})};var J=r(13440),K=r(97707),O=r(63471);const Z=(e,t)=>{const r={title:"",description:"",color:"#2196f3",textColor:"",allDay:!1,start:t?new Date(t.start):new Date,end:t?new Date(t.end):new Date};return e||t?X().merge({},r,e):r},ee=e=>{let{event:t,range:r,handleDelete:l,handleCreate:a,handleUpdate:o,onCancel:i}=e;const s=(0,E.A)(),d=!t,c=[{value:s.palette.primary.main,color:"primary.main",label:"Default"},{value:s.palette.error.main,color:"error.main"},{value:s.palette.success.dark,color:"success.dark"},{value:s.palette.secondary.main,color:"secondary.main"},{value:s.palette.warning.dark,color:"warning.dark"},{value:s.palette.orange.dark,color:"orange.dark"},{value:s.palette.grey[500],color:"grey.500"},{value:s.palette.primary.light,color:"primary.light"},{value:s.palette.error.light,color:"error.light"},{value:s.palette.success.light,color:"success.light"},{value:s.palette.secondary.light,color:"secondary.light"},{value:s.palette.warning.light,color:"warning.light"},{value:s.palette.orange.light,color:"orange.light"}],p=[{value:s.palette.error.light,color:"error.light",label:""},{value:s.palette.success.light,color:"success.light",label:""},{value:s.palette.secondary.light,color:"secondary.light",label:""},{value:s.palette.warning.light,color:"warning.light",label:""},{value:s.palette.orange.light,color:"orange.light",label:""},{value:s.palette.primary.light,color:"primary.light",label:""},{value:s.palette.primary.main,color:"primary.main",label:""},{value:s.palette.error.main,color:"error.main",label:""},{value:s.palette.success.dark,color:"success.dark",label:""},{value:s.palette.secondary.main,color:"secondary.main",label:""},{value:s.palette.warning.dark,color:"warning.dark",label:""},{value:s.palette.orange.dark,color:"orange.dark",label:""},{value:s.palette.grey[500],color:"grey.500",label:""}],u=_.Ik().shape({title:_.Yj().max(255).required("Title is required"),description:_.Yj().max(5e3),end:_.p6().when("start",((e,t)=>e&&t.min(e,"End date must be later than start date"))),start:_.p6(),color:_.Yj().max(255),textColor:_.Yj().max(255)}),y=(0,$.Wx)({initialValues:Z(t,r),validationSchema:u,onSubmit:async(e,r)=>{let{resetForm:l,setSubmitting:n}=r;try{const r={title:e.title,description:e.description,color:e.color,textColor:e.textColor,allDay:e.allDay,start:e.start,end:e.end};t?o(t.id,r):a(r),l(),i(),n(!1)}catch(s){console.error(s)}}}),{values:A,errors:f,touched:j,handleSubmit:b,isSubmitting:k,getFieldProps:C,setFieldValue:w}=y;return(0,D.jsx)($.QI,{value:y,children:(0,D.jsx)(q.$,{dateAdapter:Q.h,children:(0,D.jsxs)($.lV,{autoComplete:"off",noValidate:!0,onSubmit:b,children:[(0,D.jsx)(R.A,{children:t?"Edit Event":"Add Event"}),(0,D.jsx)(T.A,{}),(0,D.jsx)(W.A,{sx:{p:3},children:(0,D.jsxs)(x.Ay,{container:!0,spacing:J.iL,children:[(0,D.jsx)(x.Ay,{item:!0,xs:12,children:(0,D.jsx)(F.A,{fullWidth:!0,label:"Title",...C("title"),error:Boolean(j.title&&f.title),helperText:j.title&&f.title})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,children:(0,D.jsx)(F.A,{fullWidth:!0,multiline:!0,rows:3,label:"Description",...C("description"),error:Boolean(j.description&&f.description),helperText:j.description&&f.description})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,children:(0,D.jsx)(I.A,{control:(0,D.jsx)(P.A,{checked:A.allDay,...C("allDay")}),label:"All day"})}),(0,D.jsxs)(x.Ay,{item:!0,xs:12,md:6,children:[(0,D.jsx)(Y.E,{label:"Start date",value:A.start,format:"dd/MM/yyyy hh:mm a",onChange:e=>w("start",e),slotProps:{textField:{InputProps:{endAdornment:(0,D.jsx)(B.A,{position:"end",sx:{cursor:"pointer"},children:(0,D.jsx)(K.A,{})})}}}}),j.start&&f.start&&(0,D.jsx)(L.A,{error:!0,children:f.start})]}),(0,D.jsxs)(x.Ay,{item:!0,xs:12,md:6,children:[(0,D.jsx)(Y.E,{label:"End date",value:A.end,format:"dd/MM/yyyy hh:mm a",onChange:e=>w("end",e),slotProps:{textField:{InputProps:{endAdornment:(0,D.jsx)(B.A,{position:"end",sx:{cursor:"pointer"},children:(0,D.jsx)(K.A,{})})}}}}),j.end&&f.end&&(0,D.jsx)(L.A,{error:!0,children:f.end})]}),(0,D.jsx)(x.Ay,{item:!0,xs:12,children:(0,D.jsxs)(x.Ay,{container:!0,spacing:2,children:[(0,D.jsx)(x.Ay,{item:!0,xs:12,children:(0,D.jsx)(m.A,{variant:"subtitle1",children:"Background Color"})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,children:(0,D.jsx)(V.A,{children:(0,D.jsx)(z.A,{row:!0,"aria-label":"color",...C("color"),onChange:e=>w("color",e.target.value),name:"color-radio-buttons-group",sx:{"& .MuiFormControlLabel-root":{mr:0}},children:c.map(((e,t)=>(0,D.jsx)(H,{value:e.value,color:e.color,label:e.label},t)))})})})]})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,children:(0,D.jsxs)(x.Ay,{container:!0,spacing:2,children:[(0,D.jsx)(x.Ay,{item:!0,xs:12,children:(0,D.jsx)(m.A,{variant:"subtitle1",children:"Text Color"})}),(0,D.jsx)(x.Ay,{item:!0,xs:12,children:(0,D.jsx)(V.A,{component:"fieldset",children:(0,D.jsxs)(z.A,{row:!0,"aria-label":"textColor",...C("textColor"),onChange:e=>w("textColor",e.target.value),name:"text-color-radio-buttons-group",sx:{"& .MuiFormControlLabel-root":{mr:0}},children:[(0,D.jsx)(I.A,{value:"",control:(0,D.jsx)(G.A,{color:"default"}),label:"Default",sx:{pr:1}}),p.map(((e,t)=>(0,D.jsx)(H,{value:e.value,color:e.color,label:e.label},t)))]})})})]})})]})}),(0,D.jsx)(N.A,{sx:{p:3},children:(0,D.jsxs)(x.Ay,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,D.jsx)(x.Ay,{item:!0,children:!d&&(0,D.jsx)(v.A,{title:"Delete Event",children:(0,D.jsx)(g.A,{onClick:()=>l(null===t||void 0===t?void 0:t.id),size:"large",children:(0,D.jsx)(O.A,{color:"error"})})})}),(0,D.jsx)(x.Ay,{item:!0,children:(0,D.jsxs)(h.A,{direction:"row",spacing:2,alignItems:"center",children:[(0,D.jsx)(n.A,{type:"button",variant:"outlined",onClick:i,children:"Cancel"}),(0,D.jsx)(n.A,{type:"submit",variant:"contained",disabled:k,children:t?"Edit":"Add"})]})})]})})]})})})};const te=(0,r(34535).Ay)("div")((e=>{let{theme:t}=e;return{"& .fc-license-message":{display:"none"},"& .fc":{"--fc-bg-event-opacity":1,"--fc-border-color":t.palette.divider,"--fc-daygrid-event-dot-width":"10px","--fc-today-bg-color":"dark"===t.palette.mode?t.palette.dark[800]:t.palette.primary.light,"--fc-list-event-dot-width":"10px","--fc-event-border-color":t.palette.primary.dark,"--fc-now-indicator-color":t.palette.error.main,color:t.palette.text.primary,fontFamily:t.typography.fontFamily},"& .fc .fc-daygrid-day-top":{display:"grid","& .fc-daygrid-day-number":{textAlign:"center",marginTop:12,marginBottom:12}},"& .fc .fc-col-header-cell":{backgroundColor:"dark"===t.palette.mode?t.palette.dark.main:t.palette.grey[50]},"& .fc .fc-col-header-cell-cushion":{color:t.palette.grey[900],padding:16},"& .fc-theme-standard .fc-list":{overflowX:"auto"},"& .fc-direction-ltr .fc-daygrid-event.fc-event-end, .fc-direction-rtl .fc-daygrid-event.fc-event-start":{marginLeft:4,marginBottom:6,borderRadius:"6px"},"& .fc-direction-ltr .fc-daygrid-event.fc-event-start, .fc-direction-rtl .fc-daygrid-event.fc-event-end":{marginLeft:4,marginBottom:6,borderRadius:"6px"},"& .fc-h-event .fc-event-main":{padding:4,paddingLeft:8},"& .fc .fc-more-popover":{border:"none",borderRadius:"14px"},"& .fc .fc-more-popover .fc-popover-body":{backgroundColor:"dark"===t.palette.mode?t.palette.dark[800]:t.palette.grey[200],borderBottomLeftRadius:"12px",borderBottomRightRadius:"12px"},"& .fc .fc-popover-header":{padding:12,borderTopLeftRadius:"12px",borderTopRightRadius:"12px",backgroundColor:"dark"===t.palette.mode?t.palette.dark[800]:t.palette.grey[200],color:"dark"===t.palette.mode?t.palette.dark.light:t.palette.text.primary},"& .fc-theme-standard .fc-list-day-cushion":{backgroundColor:"dark"===t.palette.mode?t.palette.dark.main:t.palette.grey[100]},"& .fc .fc-list-event:hover td":{backgroundColor:"dark"===t.palette.mode?t.palette.dark[800]:t.palette.grey[100]},"& .fc-timegrid-event-harness-inset .fc-timegrid-event, .fc-timegrid-event.fc-event-mirror, .fc-timegrid-more-link":{padding:8,margin:2}}}));var re=r(65794),le=r(82330),ae=r(66853),ne=r(83482),oe=r(22296),ie=r(15532);const se=()=>{const e=(0,ne.wA)(),t=(0,l.useRef)(null),r=(0,a.A)((e=>e.breakpoints.down("md"))),[x,h]=(0,l.useState)(!0),[g,m]=(0,l.useState)([]),y=(0,ne.d4)((e=>e.calendar));(0,l.useEffect)((()=>{e((0,oe.kQ)()).then((()=>h(!1)))}),[]),(0,l.useEffect)((()=>{m(y.events)}),[y]);const[v,A]=(0,l.useState)(new Date),[f,j]=(0,l.useState)(r?"listWeek":"dayGridMonth"),b=e=>{const r=t.current;if(r){r.getApi().changeView(e),j(e)}};(0,l.useEffect)((()=>{b(r?"listWeek":"dayGridMonth")}),[r]);const[k,C]=(0,l.useState)(!1),[w,M]=(0,l.useState)(null),[E,R]=(0,l.useState)(null),T=async t=>{let{event:r}=t;try{e((0,oe.qM)({eventId:r.id,update:{allDay:r.allDay,start:r.start,end:r.end}}))}catch(l){console.error(l)}},W=()=>{C(!1),R(null),M(null)};return x?(0,D.jsx)(re.A,{}):(0,D.jsxs)(le.A,{title:"Event Calendar",secondary:(0,D.jsxs)(n.A,{color:"secondary",variant:"contained",onClick:()=>{C(!0)},children:[(0,D.jsx)(ie.A,{fontSize:"small",sx:{mr:.75}}),"Add New Event"]}),children:[(0,D.jsxs)(te,{children:[(0,D.jsx)(S,{date:v,view:f,onClickNext:()=>{const e=t.current;if(e){const t=e.getApi();t.next(),A(t.getDate())}},onClickPrev:()=>{const e=t.current;if(e){const t=e.getApi();t.prev(),A(t.getDate())}},onClickToday:()=>{const e=t.current;if(e){const t=e.getApi();t.today(),A(t.getDate())}},onChangeView:b}),(0,D.jsx)(ae.A,{children:(0,D.jsx)(i.A,{weekends:!0,editable:!0,droppable:!0,selectable:!0,events:g,ref:t,rerenderDelay:10,initialDate:v,initialView:f,dayMaxEventRows:3,eventDisplay:"block",headerToolbar:!1,allDayMaintainDuration:!0,eventResizableFromStart:!0,select:e=>{const r=t.current;if(r){r.getApi().unselect()}M({start:e.start,end:e.end}),C(!0)},eventDrop:T,eventClick:e=>{if(e.event.id){const t=g.find((t=>t.id===e.event.id));R(t)}else R(null);C(!0)},eventResize:T,height:r?"auto":720,plugins:[s.A,d.A,p.A,c.A,u.Ay]})})]}),(0,D.jsx)(o.A,{maxWidth:"sm",fullWidth:!0,onClose:W,open:k,sx:{"& .MuiDialog-paper":{p:0}},children:k&&(0,D.jsx)(ee,{event:E,range:w,onCancel:W,handleDelete:async t=>{try{e((0,oe.Nn)(t)),W()}catch(r){console.error(r)}},handleCreate:async t=>{e((0,oe.W2)(t)),W()},handleUpdate:async(t,r)=>{e((0,oe.qM)({eventId:t,update:r})),W()}})})]})}}}]);
//# sourceMappingURL=9499.ff18aca0.chunk.js.map