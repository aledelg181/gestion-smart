"use strict";(self.webpackChunkgestion_smart=self.webpackChunkgestion_smart||[]).push([[7044],{17044:(e,i,n)=>{n.r(i),n.d(i,{default:()=>Ae});var r=n(65043),t=n(26240),s=n(79650),l=n(71806),a=n(84882),o=n(28076),d=n(39652),c=n(69392),h=n(42518),x=n(73460),m=n(84322),p=n(60295),u=n(96446),A=n(68903),j=n(85865),g=n(67784),v=n(23609),y=n(53193),b=n(78492),w=n(74605),f=n(14256),I=n(72221),S=n(32143),C=n(37798),D=n(58390),k=n(12820),z=n(80899),W=n(93998),M=n(63516),T=n(55514),O=n(69889),H=n(50257),P=n(83482),R=n(85045),V=n(70579);const E=new W.Chance,N=n(40630),F=z.Ik({title:z.Yj().required("User story title is required"),dueDate:z.p6()}),L=e=>{let{open:i,handleDrawerOpen:n}=e;const r=(0,P.wA)(),t=(0,P.d4)((e=>e.kanban)),{profiles:s,columns:l,userStory:a,userStoryOrder:o}=t,d=(0,M.Wx)({initialValues:{id:`${E.integer({min:1e3,max:9999})}`,title:"",assign:null,columnId:"",priority:"low",dueDate:new Date,acceptance:"",description:"",commentIds:"",image:!1,itemIds:[]},validationSchema:F,onSubmit:e=>{r((0,R.LD)(e,a,o)),r((0,H.aN)({open:!0,message:"Submit Success",variant:"alert",alert:{color:"success"},close:!1})),n()}});return(0,V.jsx)(p.Ay,{sx:{ml:i?3:0,flexShrink:0,zIndex:1200,overflowX:"hidden",width:{xs:320,md:450},"& .MuiDrawer-paper":{height:"100vh",width:{xs:320,md:450},position:"fixed",border:"none",borderRadius:"0px"}},variant:"temporary",anchor:"right",open:i,ModalProps:{keepMounted:!0},onClose:n,children:i&&(0,V.jsx)(u.A,{sx:{p:3},children:(0,V.jsx)("form",{onSubmit:d.handleSubmit,children:(0,V.jsx)(D.$,{dateAdapter:C.h,children:(0,V.jsxs)(A.Ay,{container:!0,spacing:3,children:[(0,V.jsx)(A.Ay,{item:!0,xs:12,children:(0,V.jsx)(j.A,{variant:"h4",children:"Add Story"})}),(0,V.jsx)(A.Ay,{item:!0,xs:12,children:(0,V.jsx)(g.A,{fullWidth:!0,id:"title",name:"title",label:"Title",value:d.values.title,onChange:d.handleChange,error:d.touched.title&&Boolean(d.errors.title),helperText:d.touched.title&&d.errors.title})}),(0,V.jsx)(A.Ay,{item:!0,xs:12,children:(0,V.jsxs)(A.Ay,{container:!0,alignItems:"center",spacing:2,children:[(0,V.jsx)(A.Ay,{item:!0,xs:12,sm:4,children:(0,V.jsx)(j.A,{variant:"subtitle1",children:"Assign to:"})}),(0,V.jsx)(A.Ay,{item:!0,xs:12,sm:8,children:(0,V.jsx)(A.Ay,{container:!0,justifyContent:"flex-start",children:(0,V.jsx)(v.A,{id:"assign",value:s.find((e=>e.id===d.values.assign))||null,onChange:(e,i)=>d.setFieldValue("assign",null===i||void 0===i?void 0:i.id),options:s,fullWidth:!0,autoHighlight:!0,getOptionLabel:e=>e.name,isOptionEqualToValue:e=>e.id===d.values.assign,renderOption:(e,i)=>(0,V.jsxs)(u.A,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:[(0,V.jsx)("img",{loading:"lazy",width:"20",src:N(`./${i.avatar}`),alt:""}),i.name]}),renderInput:e=>(0,V.jsx)(g.A,{...e,label:"Choose a assignee",inputProps:{...e.inputProps,autoComplete:"new-password"}})})})})]})}),(0,V.jsx)(A.Ay,{item:!0,xs:12,children:(0,V.jsxs)(A.Ay,{container:!0,alignItems:"center",spacing:2,children:[(0,V.jsx)(A.Ay,{item:!0,xs:12,sm:4,children:(0,V.jsx)(j.A,{variant:"subtitle1",children:"Prioritize:"})}),(0,V.jsx)(A.Ay,{item:!0,xs:12,sm:8,children:(0,V.jsx)(y.A,{children:(0,V.jsxs)(b.A,{row:!0,"aria-label":"color",value:d.values.priority,onChange:d.handleChange,name:"priority",id:"priority",children:[(0,V.jsx)(w.A,{value:"low",control:(0,V.jsx)(f.A,{color:"primary",sx:{color:"primary.main"}}),label:"Low"}),(0,V.jsx)(w.A,{value:"medium",control:(0,V.jsx)(f.A,{color:"warning",sx:{color:"warning.main"}}),label:"Medium"}),(0,V.jsx)(w.A,{value:"high",control:(0,V.jsx)(f.A,{color:"error",sx:{color:"error.main"}}),label:"High"})]})})})]})}),(0,V.jsx)(A.Ay,{item:!0,xs:12,children:(0,V.jsxs)(A.Ay,{container:!0,alignItems:"center",spacing:2,children:[(0,V.jsx)(A.Ay,{item:!0,xs:12,sm:4,children:(0,V.jsx)(j.A,{variant:"subtitle1",children:"Due date:"})}),(0,V.jsx)(A.Ay,{item:!0,xs:12,sm:8,children:(0,V.jsx)(k.T,{label:"Due Date",value:d.values.dueDate,format:"dd/MM/yyyy",onChange:e=>{d.setFieldValue("dueDate",e)},slotProps:{textField:{fullWidth:!0}}})})]})}),(0,V.jsx)(A.Ay,{item:!0,xs:12,children:(0,V.jsxs)(A.Ay,{container:!0,alignItems:"center",spacing:2,children:[(0,V.jsx)(A.Ay,{item:!0,xs:12,sm:4,children:(0,V.jsx)(j.A,{variant:"subtitle1",children:"Acceptance:"})}),(0,V.jsx)(A.Ay,{item:!0,xs:12,sm:8,children:(0,V.jsx)(g.A,{fullWidth:!0,id:"acceptance",name:"acceptance",multiline:!0,rows:3,value:d.values.acceptance,onChange:d.handleChange,error:d.touched.acceptance&&Boolean(d.errors.acceptance),helperText:d.touched.acceptance&&d.errors.acceptance})})]})}),(0,V.jsx)(A.Ay,{item:!0,xs:12,children:(0,V.jsxs)(A.Ay,{container:!0,alignItems:"center",spacing:2,children:[(0,V.jsx)(A.Ay,{item:!0,xs:12,sm:4,children:(0,V.jsx)(j.A,{variant:"subtitle1",children:"Description:"})}),(0,V.jsx)(A.Ay,{item:!0,xs:12,sm:8,children:(0,V.jsx)(g.A,{fullWidth:!0,id:"description",name:"description",multiline:!0,rows:3,value:d.values.description,onChange:d.handleChange,error:d.touched.description&&Boolean(d.errors.description),helperText:d.touched.description&&d.errors.description})})]})}),(0,V.jsx)(A.Ay,{item:!0,xs:12,children:(0,V.jsxs)(A.Ay,{container:!0,alignItems:"center",spacing:2,children:[(0,V.jsx)(A.Ay,{item:!0,xs:12,sm:4,children:(0,V.jsx)(j.A,{variant:"subtitle1",children:"State:"})}),(0,V.jsx)(A.Ay,{item:!0,xs:12,sm:8,children:(0,V.jsx)(y.A,{fullWidth:!0,children:(0,V.jsx)(I.A,{id:"columnId",name:"columnId",displayEmpty:!0,value:d.values.columnId,onChange:d.handleChange,inputProps:{"aria-label":"Without label"},children:l.map(((e,i)=>(0,V.jsx)(S.A,{value:e.id,children:e.title},i)))})})})]})}),(0,V.jsx)(A.Ay,{item:!0,xs:12,children:(0,V.jsxs)(A.Ay,{container:!0,alignItems:"center",spacing:2,children:[(0,V.jsx)(A.Ay,{item:!0,xs:12,sm:4,children:(0,V.jsx)(j.A,{variant:"subtitle1",children:"Attachments:"})}),(0,V.jsx)(A.Ay,{item:!0,xs:12,sm:8,children:(0,V.jsx)(T.A,{attachments:[]})})]})}),(0,V.jsx)(A.Ay,{item:!0,xs:12,children:(0,V.jsx)(O.A,{children:(0,V.jsx)(h.A,{fullWidth:!0,variant:"contained",type:"submit",children:"Save"})})})]})})})})})};var B=n(88911),q=n(17392),$=n(88446),Y=n(75429),K=n(72437),U=n(30279),X=n(69525);const _=new W.Chance,J=n(40630),Z=z.Ik({title:z.Yj().required("Task title is required"),dueDate:z.p6()}),G=e=>{let{open:i,handleDrawerOpen:n,storyId:r}=e;const t=(0,P.wA)(),{profiles:s,columns:l,userStory:a,items:o}=(0,P.d4)((e=>e.kanban)),d=(0,M.Wx)({initialValues:{id:`${_.integer({min:1e3,max:9999})}`,title:"",assign:null,priority:"low",dueDate:new Date,description:"",commentIds:"",image:!1,storyId:"",columnId:l[0].id},validationSchema:Z,onSubmit:e=>{const i={id:e.id,title:e.title,assign:e.assign,priority:e.priority,dueDate:e.dueDate?new Date(e.dueDate):new Date,description:e.description,commentIds:e.commentIds,image:e.image};t((0,R.B5)(e.columnId,l,i,o,r,a)),t((0,H.aN)({open:!0,message:"Submit Success",variant:"alert",alert:{color:"success"},close:!1})),n()}});return(0,V.jsx)(p.Ay,{sx:{ml:i?3:0,flexShrink:0,zIndex:1200,overflowX:"hidden",width:{xs:320,md:450},"& .MuiDrawer-paper":{height:"100vh",width:{xs:320,md:450},position:"fixed",border:"none",borderRadius:"0px"}},variant:"temporary",anchor:"right",open:i,ModalProps:{keepMounted:!0},onClose:n,children:i&&(0,V.jsx)(u.A,{sx:{p:3},children:(0,V.jsx)("form",{onSubmit:d.handleSubmit,children:(0,V.jsx)(D.$,{dateAdapter:C.h,children:(0,V.jsxs)(A.Ay,{container:!0,spacing:3,children:[(0,V.jsx)(A.Ay,{item:!0,xs:12,children:(0,V.jsx)(j.A,{variant:"h4",children:"Add Task"})}),(0,V.jsx)(A.Ay,{item:!0,xs:12,children:(0,V.jsx)(g.A,{fullWidth:!0,id:"title",name:"title",label:"Title",value:d.values.title,onChange:d.handleChange,error:d.touched.title&&Boolean(d.errors.title),helperText:d.touched.title&&d.errors.title})}),(0,V.jsx)(A.Ay,{item:!0,xs:12,children:(0,V.jsxs)(A.Ay,{container:!0,alignItems:"center",spacing:2,children:[(0,V.jsx)(A.Ay,{item:!0,xs:12,sm:4,children:(0,V.jsx)(j.A,{variant:"subtitle1",children:"Assign to:"})}),(0,V.jsx)(A.Ay,{item:!0,xs:12,sm:8,children:(0,V.jsx)(A.Ay,{container:!0,justifyContent:"flex-start",children:(0,V.jsx)(v.A,{id:"assign",value:s.find((e=>e.id===d.values.assign))||null,onChange:(e,i)=>{d.setFieldValue("assign",null===i||void 0===i?void 0:i.id)},options:s,fullWidth:!0,autoHighlight:!0,getOptionLabel:e=>e.name,isOptionEqualToValue:e=>e.id===d.values.assign,renderOption:(e,i)=>(0,V.jsxs)(u.A,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:[(0,V.jsx)("img",{loading:"lazy",width:"20",src:J(`./${i.avatar}`),alt:""}),i.name]}),renderInput:e=>(0,V.jsx)(g.A,{...e,label:"Choose a assignee",inputProps:{...e.inputProps,autoComplete:"new-password"}})})})})]})}),(0,V.jsx)(A.Ay,{item:!0,xs:12,children:(0,V.jsxs)(A.Ay,{container:!0,alignItems:"center",spacing:2,children:[(0,V.jsx)(A.Ay,{item:!0,xs:12,sm:4,children:(0,V.jsx)(j.A,{variant:"subtitle1",children:"Prioritize:"})}),(0,V.jsx)(A.Ay,{item:!0,xs:12,sm:8,children:(0,V.jsx)(y.A,{children:(0,V.jsxs)(b.A,{row:!0,"aria-label":"color",value:d.values.priority,onChange:d.handleChange,name:"priority",id:"priority",children:[(0,V.jsx)(w.A,{value:"low",control:(0,V.jsx)(f.A,{color:"primary",sx:{color:"primary.main"}}),label:"Low"}),(0,V.jsx)(w.A,{value:"medium",control:(0,V.jsx)(f.A,{color:"warning",sx:{color:"warning.main"}}),label:"Medium"}),(0,V.jsx)(w.A,{value:"high",control:(0,V.jsx)(f.A,{color:"error",sx:{color:"error.main"}}),label:"High"})]})})})]})}),(0,V.jsx)(A.Ay,{item:!0,xs:12,children:(0,V.jsxs)(A.Ay,{container:!0,alignItems:"center",spacing:2,children:[(0,V.jsx)(A.Ay,{item:!0,xs:12,sm:4,children:(0,V.jsx)(j.A,{variant:"subtitle1",children:"Due date:"})}),(0,V.jsx)(A.Ay,{item:!0,xs:12,sm:8,children:(0,V.jsx)(k.T,{label:"Due Date",value:d.values.dueDate,format:"dd/MM/yyyy",onChange:e=>{d.setFieldValue("dueDate",e)},slotProps:{textField:{fullWidth:!0}}})})]})}),(0,V.jsx)(A.Ay,{item:!0,xs:12,children:(0,V.jsxs)(A.Ay,{container:!0,alignItems:"center",spacing:2,children:[(0,V.jsx)(A.Ay,{item:!0,xs:12,sm:4,children:(0,V.jsx)(j.A,{variant:"subtitle1",children:"Description:"})}),(0,V.jsx)(A.Ay,{item:!0,xs:12,sm:8,children:(0,V.jsx)(g.A,{fullWidth:!0,id:"description",name:"description",multiline:!0,rows:3,value:d.values.description,onChange:d.handleChange,error:d.touched.description&&Boolean(d.errors.description),helperText:d.touched.description&&d.errors.description})})]})}),(0,V.jsx)(A.Ay,{item:!0,xs:12,children:(0,V.jsxs)(A.Ay,{container:!0,alignItems:"center",spacing:2,children:[(0,V.jsx)(A.Ay,{item:!0,xs:12,sm:4,children:(0,V.jsx)(j.A,{variant:"subtitle1",children:"State:"})}),(0,V.jsx)(A.Ay,{item:!0,xs:12,sm:8,children:(0,V.jsx)(y.A,{fullWidth:!0,children:(0,V.jsx)(I.A,{id:"columnId",name:"columnId",displayEmpty:!0,value:d.values.columnId,onChange:d.handleChange,inputProps:{"aria-label":"Without label"},children:l.map(((e,i)=>(0,V.jsx)(S.A,{value:e.id,children:e.title},i)))})})})]})}),(0,V.jsx)(A.Ay,{item:!0,xs:12,children:(0,V.jsxs)(A.Ay,{container:!0,alignItems:"center",spacing:2,children:[(0,V.jsx)(A.Ay,{item:!0,xs:12,sm:4,children:(0,V.jsx)(j.A,{variant:"subtitle1",children:"Attachments:"})}),(0,V.jsx)(A.Ay,{item:!0,xs:12,sm:8,children:(0,V.jsx)(T.A,{attachments:[]})})]})}),(0,V.jsx)(A.Ay,{item:!0,xs:12,children:(0,V.jsx)(O.A,{children:(0,V.jsx)(h.A,{fullWidth:!0,variant:"contained",type:"submit",children:"Save"})})})]})})})})})};var Q=n(35674),ee=n(24475),ie=n(65279),ne=n(54978),re=n(95879);const te=(e,i)=>{const n="dark"===i.palette.mode?i.palette.background.paper+90:i.palette.primary.light;return{backgroundColor:e?n:"transparent",userSelect:"none"}},se=e=>{let{itemId:i,index:n}=e;const s=(0,t.A)(),l=(0,P.wA)(),{columns:a,items:c,profiles:h,userStory:x}=(0,P.d4)((e=>e.kanban)),p=c.filter((e=>e.id===i))[0],u=a.filter((e=>e.itemIds.filter((e=>e===p.id))[0]))[0],A=h.filter((e=>e.id===p.assign))[0],g=()=>{l((0,R.mL)(i))},[v,y]=(0,r.useState)(null),b=e=>{y(null===e||void 0===e?void 0:e.currentTarget)},w=()=>{y(null)},[f,I]=(0,r.useState)(!1),C=e=>{I(!1),e&&(l((0,R.c1)(p.id,c,a,x)),l((0,H.aN)({open:!0,message:"Task Deleted successfully",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"success"},close:!1})))};return(0,V.jsx)(m.sx,{draggableId:p.id,index:n,children:(e,i)=>(0,V.jsxs)(o.A,{hover:!0,...e.draggableProps,...e.dragHandleProps,ref:e.innerRef,sx:{"& th,& td":{whiteSpace:"nowrap"},"& .more-button":{opacity:0},":hover":{"& .more-button":{opacity:1}},...te(i.isDragging,s)},children:[(0,V.jsx)(d.A,{sx:{pl:3,minWidth:120,width:120,height:46}}),(0,V.jsx)(d.A,{sx:{width:110,minWidth:110},children:(0,V.jsxs)(B.A,{direction:"row",spacing:.5,alignItems:"center",children:[(0,V.jsx)(re.A,{color:"primary",sx:{fontSize:"0.875rem"}}),(0,V.jsx)(j.A,{variant:"body2",children:p.id})]})}),(0,V.jsx)(d.A,{sx:{maxWidth:"calc(100vw - 850px)",minWidth:140},component:"th",scope:"row",children:(0,V.jsx)($.A,{underline:"hover",color:"default",onClick:g,sx:{overflow:"hidden",display:"block",textOverflow:"ellipsis",whiteSpace:"nowrap",":hover":{color:"primary.main"},cursor:"pointer"},children:p.title})}),(0,V.jsxs)(d.A,{sx:{width:60,minWidth:60},children:[(0,V.jsx)(Y.A,{className:"more-button",sx:{borderRadius:"12px"},onClick:b,"aria-controls":"menu-comment","aria-haspopup":"true",children:(0,V.jsx)(q.A,{component:"span",size:"small",disableRipple:!0,children:(0,V.jsx)(ne.A,{fontSize:"inherit"})})}),(0,V.jsxs)(K.A,{id:"menu-comment",anchorEl:v,keepMounted:!0,open:Boolean(v),onClose:w,variant:"selectedMenu",anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[(0,V.jsx)(S.A,{onClick:()=>{w(),g()},children:"Edit"}),(0,V.jsx)(S.A,{onClick:()=>{w(),I(!0)},children:"Delete"})]}),(0,V.jsx)(ie.A,{title:p.title,open:f,handleClose:C})]}),(0,V.jsx)(d.A,{sx:{width:90,minWidth:90},children:u?u.title:"New"}),(0,V.jsx)(d.A,{sx:{width:140,minWidth:140},children:A?A.name:""}),(0,V.jsx)(d.A,{sx:{width:85,minWidth:85,textTransform:"capitalize"},children:p.priority}),(0,V.jsx)(d.A,{sx:{width:120,minWidth:120},children:p.dueDate?(0,X.A)(new Date(p.dueDate),"d MMM yyyy"):""})]},p.id)})};var le=n(76491),ae=n(54536),oe=n(53968),de=n(35554);const ce=(e,i,n)=>{const r="dark"===i.palette.mode?i.palette.background.default:i.palette.primary.light;return{backgroundColor:e||n?r:"transparent",userSelect:"none"}},he=(e,i)=>{const n="dark"===i.palette.mode?i.palette.background.default:i.palette.grey[100]+80;return{background:e?n:"transparent"}},xe=e=>{let{story:i,index:n}=e;const a=(0,t.A)(),h=(0,P.wA)(),p=(0,P.d4)((e=>e.kanban)),{columns:A,profiles:g,userStory:v,userStoryOrder:y}=p,[b,w]=r.useState(!1),f=A.filter((e=>e.id===i.columnId))[0],I=g.filter((e=>e.id===i.assign))[0],[C,D]=(0,r.useState)(!1),k=()=>{D((e=>!e))},[z,W]=(0,r.useState)(!1),M=()=>{W((e=>!e))},[T,O]=(0,r.useState)(null),E=e=>{O(null===e||void 0===e?void 0:e.currentTarget)},N=()=>{O(null)},[F,L]=(0,r.useState)(!1),_=e=>{L(!1),e&&(h((0,R.RZ)(i.id,v,y)),h((0,H.aN)({open:!0,message:"Task Deleted successfully",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"success"},close:!1})))};return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(m.sx,{draggableId:i.id,index:n,children:(e,n)=>(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(o.A,{hover:!0,...e.draggableProps,...e.dragHandleProps,ref:e.innerRef,sx:ce(n.isDragging,a,b),children:[(0,V.jsx)(d.A,{sx:{pl:3,minWidth:120,width:120,height:46},children:(0,V.jsxs)(B.A,{direction:"row",spacing:.25,alignItems:"center",children:[(0,V.jsx)(c.A,{title:"Add Task",children:(0,V.jsx)(q.A,{"aria-label":"expand row",size:"small",onClick:k,children:(0,V.jsx)(le.A,{fontSize:"small",color:"primary"})})}),(0,V.jsx)(q.A,{"aria-label":"expand row",size:"small",onClick:()=>w(!b),children:b?(0,V.jsx)(ae.A,{fontSize:"small"}):(0,V.jsx)(oe.A,{fontSize:"small"})})]})}),(0,V.jsx)(d.A,{sx:{width:110,minWidth:110},children:(0,V.jsxs)(B.A,{direction:"row",spacing:.5,alignItems:"center",children:[(0,V.jsx)(de.A,{color:"secondary",sx:{fontSize:"0.875rem"}}),(0,V.jsx)(j.A,{variant:"body2",children:i.id})]})}),(0,V.jsx)(d.A,{sx:{maxWidth:"calc(100vw - 850px)",minWidth:140},component:"th",scope:"row",children:(0,V.jsx)($.A,{underline:"hover",color:"default",onClick:M,sx:{overflow:"hidden",display:"block",textOverflow:"ellipsis",whiteSpace:"nowrap",":hover":{color:"primary.main"},cursor:"pointer"},children:i.title})}),(0,V.jsxs)(d.A,{sx:{width:60,minWidth:60},children:[(0,V.jsx)(Y.A,{className:"more-button",sx:{borderRadius:"12px"},onClick:E,"aria-controls":"menu-comment","aria-haspopup":"true",children:(0,V.jsx)(q.A,{component:"span",size:"small",disableRipple:!0,"aria-label":"more options",children:(0,V.jsx)(ne.A,{fontSize:"inherit"})})}),(0,V.jsxs)(K.A,{id:"menu-comment",anchorEl:T,keepMounted:!0,open:Boolean(T),onClose:N,variant:"selectedMenu",anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[(0,V.jsx)(S.A,{onClick:()=>{N(),M()},children:"Edit"}),(0,V.jsx)(S.A,{onClick:()=>{N(),L(!0)},children:"Delete"})]}),F&&(0,V.jsx)(ee.A,{title:i.title,open:F,handleClose:_})]}),(0,V.jsx)(d.A,{sx:{width:90,minWidth:90},children:f?f.title:""}),(0,V.jsx)(d.A,{sx:{width:140,minWidth:140},children:I?I.name:""}),(0,V.jsx)(d.A,{sx:{width:85,minWidth:85,textTransform:"capitalize"},children:i.priority}),(0,V.jsx)(d.A,{sx:{width:120,minWidth:120},children:i.dueDate?(0,X.A)(new Date(i.dueDate),"d MMM yyyy"):""})]}),(0,V.jsx)(m.gL,{droppableId:i.id,type:"item",children:(e,n)=>{var r;return(0,V.jsx)(o.A,{ref:e.innerRef,...e.droppableProps,sx:he(n.isDraggingOver,a),children:(0,V.jsx)(d.A,{style:{padding:0},colSpan:8,children:(0,V.jsx)(U.A,{in:b,timeout:"auto",unmountOnExit:!0,children:b&&(0,V.jsx)(u.A,{sx:{margin:0},children:(0,V.jsx)(s.A,{children:(0,V.jsx)(l.A,{size:"small","aria-label":"purchases",children:(0,V.jsxs)(x.A,{children:[null===(r=i.itemIds)||void 0===r?void 0:r.map(((e,i)=>(0,V.jsx)(se,{itemId:e,index:i},e))),e.placeholder]})})})})})})})}})]})}),(0,V.jsx)(Q.A,{story:i,open:z,handleDrawerOpen:()=>{W((e=>!e))}}),(0,V.jsx)(G,{open:C,handleDrawerOpen:()=>{D((e=>!e))},storyId:i.id})]})};var me=n(10821),pe=n(22505);const ue=(e,i)=>({background:e?i.palette.secondary.light+50:"transparent"}),Ae=()=>{const e=(0,t.A)(),i=(0,P.wA)(),n=(0,P.d4)((e=>e.kanban)),{userStory:p,userStoryOrder:u}=n,[A,j]=(0,r.useState)(!1),g=()=>{j((e=>!e))};return(0,V.jsx)(V.Fragment,{children:(0,V.jsxs)(s.A,{children:[(0,V.jsx)(m.JY,{onDragEnd:e=>{let n;const{source:r,destination:t,draggableId:s,type:l}=e;if(!t)return;if(t.droppableId===r.droppableId&&t.index===r.index)return;if("user-story"===l){const e=Array.from(u);return e.splice(r.index,1),e.splice(null===t||void 0===t?void 0:t.index,0,s),void i((0,R.Pi)(e))}const a=p.filter((e=>e.id===r.droppableId))[0],o=p.filter((e=>e.id===t.droppableId))[0];if(a===o){const e=Array.from(a.itemIds);e.splice(r.index,1),e.splice(t.index,0,s);const i={...a,itemIds:e};n=p.map((e=>e.id===i.id?i:e))}else{const e=Array.from(a.itemIds);e.splice(r.index,1);const i={...a,itemIds:e},l=Array.from(o.itemIds);l.splice(t.index,0,s);const d={...o,itemIds:l};n=p.map((e=>e.id===i.id?i:e.id===d.id?d:e))}i((0,R.ul)(n))},children:(0,V.jsx)(m.gL,{droppableId:"user-story",type:"user-story",children:(i,n)=>(0,V.jsxs)(l.A,{size:"small","aria-label":"collapsible table",...i.droppableProps,ref:i.innerRef,sx:ue(n.isDraggingOver,e),children:[(0,V.jsx)(a.A,{sx:{"& th,& td":{whiteSpace:"nowrap"}},children:(0,V.jsxs)(o.A,{children:[(0,V.jsx)(d.A,{sx:{pl:3},children:(0,V.jsx)(c.A,{title:"Add User Story",children:(0,V.jsx)(h.A,{variant:"contained",size:"small",color:"secondary",onClick:g,endIcon:(0,V.jsx)(pe.A,{}),children:"ADD"})})}),(0,V.jsx)(d.A,{children:"Id"}),(0,V.jsx)(d.A,{children:"Title"}),(0,V.jsx)(d.A,{}),(0,V.jsx)(d.A,{children:"State"}),(0,V.jsx)(d.A,{children:"Assigned To"}),(0,V.jsx)(d.A,{children:"Priority"}),(0,V.jsx)(d.A,{children:"Due Date"})]})}),(0,V.jsxs)(x.A,{sx:{"& th,& td":{whiteSpace:"nowrap"}},children:[u.map(((e,i)=>{const n=p.filter((i=>i.id===e))[0];return(0,V.jsx)(xe,{story:n,index:i},n.id)})),i.placeholder]})]})})}),(0,V.jsx)(L,{open:A,handleDrawerOpen:()=>{j((e=>!e))}}),(0,V.jsx)(me.A,{})]})})}},22505:(e,i,n)=>{var r=n(24994);i.A=void 0;var t=r(n(40039)),s=n(70579),l=(0,t.default)((0,s.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");i.A=l},76491:(e,i,n)=>{var r=n(24994);i.A=void 0;var t=r(n(40039)),s=n(70579),l=(0,t.default)([(0,s.jsx)("path",{d:"M12 4c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8zm5 9h-4v4h-2v-4H7v-2h4V7h2v4h4v2z",opacity:".3"},"0"),(0,s.jsx)("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},"1")],"AddCircleTwoTone");i.A=l},95879:(e,i,n)=>{var r=n(24994);i.A=void 0;var t=r(n(40039)),s=n(70579),l=(0,t.default)([(0,s.jsx)("path",{d:"M5 5v14h14V5H5zm9 12H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z",opacity:".3"},"0"),(0,s.jsx)("path",{d:"M7 15h7v2H7zm0-4h10v2H7zm0-4h10v2H7zm12-4h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-.14 0-.27.01-.4.04-.39.08-.74.28-1.01.55-.18.18-.33.4-.43.64S3 4.72 3 5v14c0 .27.06.54.16.78s.25.45.43.64c.27.27.62.47 1.01.55.13.02.26.03.4.03h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7-.25c.41 0 .75.34.75.75s-.34.75-.75.75-.75-.34-.75-.75.34-.75.75-.75zM19 19H5V5h14v14z"},"1")],"AssignmentTwoTone");i.A=l},54536:(e,i,n)=>{var r=n(24994);i.A=void 0;var t=r(n(40039)),s=n(70579),l=(0,t.default)((0,s.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");i.A=l},53968:(e,i,n)=>{var r=n(24994);i.A=void 0;var t=r(n(40039)),s=n(70579),l=(0,t.default)((0,s.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight");i.A=l},84882:(e,i,n)=>{n.d(i,{A:()=>v});var r=n(58168),t=n(98587),s=n(65043),l=n(69292),a=n(98610),o=n(21573),d=n(98206),c=n(34535),h=n(92532),x=n(72372);function m(e){return(0,x.Ay)("MuiTableHead",e)}(0,h.A)("MuiTableHead",["root"]);var p=n(70579);const u=["className","component"],A=(0,c.Ay)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,i)=>i.root})({display:"table-header-group"}),j={variant:"head"},g="thead",v=s.forwardRef((function(e,i){const n=(0,d.b)({props:e,name:"MuiTableHead"}),{className:s,component:c=g}=n,h=(0,t.A)(n,u),x=(0,r.A)({},n,{component:c}),v=(e=>{const{classes:i}=e;return(0,a.A)({root:["root"]},m,i)})(x);return(0,p.jsx)(o.A.Provider,{value:j,children:(0,p.jsx)(A,(0,r.A)({as:c,className:(0,l.A)(v.root,s),ref:i,role:c===g?null:"rowgroup",ownerState:x},h))})}))}}]);
//# sourceMappingURL=7044.60bae24a.chunk.js.map