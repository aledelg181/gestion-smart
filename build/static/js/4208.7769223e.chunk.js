"use strict";(self.webpackChunkgestion_smart=self.webpackChunkgestion_smart||[]).push([[4208],{24475:(e,i,t)=>{t.d(i,{A:()=>c});var n=t(83462),s=t(26600),r=t(35316),l=t(98533),a=t(29347),o=t(42518),d=t(70579);function c(e){let{title:i,open:t,handleClose:c}=e;return(0,d.jsx)(n.A,{open:t,onClose:()=>c(!1),keepMounted:!0,maxWidth:"xs","aria-labelledby":"item-delete-title","aria-describedby":"item-delete-description",children:t&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(s.A,{id:"item-delete-title",children:[i," - Are you sure you want to delete?"]}),(0,d.jsx)(r.A,{children:(0,d.jsx)(l.A,{id:"item-delete-description",children:"By deleting user story, all task inside that user story will also be deleted."})}),(0,d.jsxs)(a.A,{sx:{mr:2},children:[(0,d.jsx)(o.A,{onClick:()=>c(!1),color:"error",children:"Cancel"}),(0,d.jsx)(o.A,{variant:"contained",size:"small",onClick:()=>c(!0),autoFocus:!0,children:"Delete"})]})]})})}},35674:(e,i,t)=>{t.d(i,{A:()=>_});var n=t(65043),s=t(60295),r=t(96446),l=t(68903),a=t(88911),o=t(42518),d=t(85865),c=t(39336),x=t(67784),h=t(23609),m=t(53193),p=t(78492),u=t(74605),j=t(14256),A=t(72221),y=t(32143),g=t(37798),v=t(58390),b=t(12820),f=t(80899),w=t(90864),C=t.n(w),I=t(63516),k=t(55514),D=t(26240),S=t(83482),W=t(87874),M=t(85045),z=t(93998),F=t(26869),O=t(35634),R=t(51757),T=t(50257),P=t(70579);const E=new z.Chance,U=e=>{let{storyId:i}=e;const t=(0,D.A)(),s=(0,S.wA)(),{borderRadius:a}=(0,W.A)(),{comments:d,userStory:c}=(0,S.d4)((e=>e.kanban)),[h,m]=(0,n.useState)(""),[p,u]=(0,n.useState)(!1),j=()=>{if(h.length>0){const e={id:`${E.integer({min:1e3,max:9999})}`,comment:h,profileId:"profile-1"};s((0,M.gi)(i,e,d,c)),s((0,T.aN)({open:!0,message:"Comment Add successfully",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"success"},close:!1})),m("")}else u(!0)};return(0,P.jsx)(r.A,{sx:{p:2.5,border:"1px solid",borderColor:"dark"===t.palette.mode?t.palette.background.default:t.palette.primary[200]+75,borderRadius:`${a}px`},children:(0,P.jsxs)(l.Ay,{container:!0,alignItems:"center",spacing:.5,children:[(0,P.jsx)(l.Ay,{item:!0,xs:12,children:(0,P.jsx)(x.A,{fullWidth:!0,placeholder:"Add Comment",value:h,onChange:e=>{const i=e.target.value;m(i),i.length<=0?u(!0):u(!1)},sx:{mb:2,"& input":{bgcolor:"transparent",p:0,borderRadius:"0px"},"& fieldset":{display:"none"},"& .MuiFormHelperText-root":{ml:0},"& .MuiOutlinedInput-root":{bgcolor:"transparent"}},onKeyUp:e=>{"Enter"!==e.key&&13!==e.keyCode||j()},helperText:p?"Comment is required.":"",error:p})}),(0,P.jsx)(l.Ay,{item:!0,children:(0,P.jsx)(o.A,{variant:"text",color:"primary",sx:{p:.5,minWidth:32},"aria-label":"add photo",children:(0,P.jsx)(R.A,{})})}),(0,P.jsx)(l.Ay,{item:!0,children:(0,P.jsx)(o.A,{variant:"text",color:"primary",sx:{p:.5,minWidth:32},"aria-label":"add file attachment",children:(0,P.jsx)(F.A,{})})}),(0,P.jsx)(l.Ay,{item:!0,children:(0,P.jsx)(o.A,{variant:"text",color:"primary",sx:{p:.5,minWidth:32},"aria-label":"add file or any item to google drive",children:(0,P.jsx)(O.A,{})})}),(0,P.jsx)(l.Ay,{item:!0,xs:!0,zeroMinWidth:!0}),(0,P.jsx)(l.Ay,{item:!0,children:(0,P.jsx)(o.A,{variant:"contained",color:"primary",onClick:j,children:"Comment"})})]})})};var $=t(12110),V=t(1062),q=t(13383);const B=t(40630),L=e=>{let{comment:i,profile:t}=e;const n=(0,D.A)();return(0,P.jsx)($.A,{sx:{background:"dark"===n.palette.mode?n.palette.dark.main:n.palette.grey[50],p:1.5,mt:1.25},children:(0,P.jsxs)(l.Ay,{container:!0,spacing:1,children:[(0,P.jsx)(l.Ay,{item:!0,xs:12,children:(0,P.jsxs)(l.Ay,{container:!0,wrap:"nowrap",alignItems:"center",spacing:1,children:[(0,P.jsx)(l.Ay,{item:!0,children:(0,P.jsx)(V.A,{sx:{width:24,height:24},size:"sm",alt:"User 1",src:t&&t.avatar&&B(`./${t.avatar}`)})}),(0,P.jsx)(l.Ay,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,P.jsxs)(l.Ay,{container:!0,alignItems:"center",spacing:1,children:[(0,P.jsx)(l.Ay,{item:!0,children:(0,P.jsx)(d.A,{align:"left",variant:"h5",component:"div",children:t.name})}),(0,P.jsx)(l.Ay,{item:!0,children:(0,P.jsxs)(d.A,{align:"left",variant:"caption",children:[(0,P.jsx)(q.A,{sx:{width:10,height:10,opacity:.5,my:0,mx:.625}}),t.time]})})]})})]})}),(0,P.jsx)(l.Ay,{item:!0,xs:12,sx:{"&.MuiGrid-root":{pt:1.5}},children:(0,P.jsx)(d.A,{align:"left",variant:"body2",children:null===i||void 0===i?void 0:i.comment})})]})})};var N=t(24475),H=t(69889),X=t(60677),Y=t(5393);const G=t(40630),K=f.Ik({title:f.Yj().required("User story title is required"),dueDate:f.p6()}),_=e=>{let{story:i,open:t,handleDrawerOpen:f}=e;const w=(0,S.wA)(),D=(0,S.d4)((e=>e.kanban)),{profiles:W,columns:z,comments:F,userStory:O,userStoryOrder:R}=D,E=(0,I.Wx)({enableReinitialize:!0,initialValues:{id:i.id,title:i.title,assign:i.assign,columnId:i.columnId,priority:i.priority,dueDate:i.dueDate?new Date(i.dueDate):new Date,acceptance:i.acceptance,description:i.description,commentIds:i.commentIds,image:!1,itemIds:i.itemIds},validationSchema:K,onSubmit:e=>{w((0,M.U2)(e,O)),w((0,T.aN)({open:!0,message:"Submit Success",variant:"alert",alert:{color:"success"},close:!1})),f()}}),[$,V]=(0,n.useState)(!1);return(0,P.jsx)(s.Ay,{sx:{ml:t?3:0,flexShrink:0,zIndex:1200,overflowX:"hidden",width:{xs:320,md:450},"& .MuiDrawer-paper":{height:"100vh",width:{xs:320,md:450},position:"fixed",border:"none",borderRadius:"0px"}},variant:"temporary",anchor:"right",open:t,ModalProps:{keepMounted:!0},onClose:()=>{f(),E.resetForm()},children:t&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(r.A,{sx:{p:3},children:(0,P.jsxs)(l.Ay,{container:!0,alignItems:"center",spacing:.5,justifyContent:"space-between",children:[(0,P.jsx)(l.Ay,{item:!0,sx:{width:"calc(100% - 50px)"},children:(0,P.jsxs)(a.A,{direction:"row",spacing:.5,alignItems:"center",children:[(0,P.jsx)(o.A,{variant:"text",color:"error",sx:{p:.5,minWidth:32,display:{xs:"block",md:"none"}},onClick:f,children:(0,P.jsx)(Y.A,{})}),(0,P.jsx)(d.A,{variant:"h4",sx:{display:"inline-block",width:"calc(100% - 34px)",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",verticalAlign:"middle"},children:i.title})]})}),(0,P.jsxs)(l.Ay,{item:!0,children:[(0,P.jsx)(o.A,{variant:"text","aria-label":"Delete",color:"error",sx:{p:.5,minWidth:32},onClick:()=>V(!0),children:(0,P.jsx)(X.A,{})}),$&&(0,P.jsx)(N.A,{title:i.title,open:$,handleClose:e=>{V(!1),e&&(f(),w((0,M.RZ)(i.id,O,R)),w((0,T.aN)({open:!0,message:"Story Deleted successfully",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"success"},close:!1})))}})]})]})}),(0,P.jsx)(c.A,{}),(0,P.jsx)(C(),{component:"div",children:(0,P.jsx)(r.A,{sx:{p:3},children:(0,P.jsxs)(l.Ay,{container:!0,spacing:2,children:[(0,P.jsx)(l.Ay,{item:!0,xs:12,children:(0,P.jsx)("form",{onSubmit:E.handleSubmit,children:(0,P.jsx)(v.$,{dateAdapter:g.h,children:(0,P.jsxs)(l.Ay,{container:!0,spacing:3,children:[(0,P.jsx)(l.Ay,{item:!0,xs:12,children:(0,P.jsx)(x.A,{fullWidth:!0,id:"title",name:"title",label:"Title",value:E.values.title,onChange:E.handleChange,error:E.touched.title&&Boolean(E.errors.title),helperText:E.touched.title&&E.errors.title})}),(0,P.jsx)(l.Ay,{item:!0,xs:12,children:(0,P.jsxs)(l.Ay,{container:!0,alignItems:"center",spacing:2,children:[(0,P.jsx)(l.Ay,{item:!0,xs:12,sm:4,children:(0,P.jsx)(d.A,{variant:"subtitle1",children:"Assign to:"})}),(0,P.jsx)(l.Ay,{item:!0,xs:12,sm:8,children:(0,P.jsx)(l.Ay,{container:!0,justifyContent:"flex-start",children:(0,P.jsx)(h.A,{id:"assign",value:W.find((e=>e.id===E.values.assign))||null,onChange:(e,i)=>E.setFieldValue("assign",null===i||void 0===i?void 0:i.id),options:W,fullWidth:!0,autoHighlight:!0,getOptionLabel:e=>e.name,isOptionEqualToValue:e=>e.id===E.values.assign,renderOption:(e,i)=>(0,P.jsxs)(r.A,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:[(0,P.jsx)("img",{loading:"lazy",width:"20",src:G(`./${i.avatar}`),alt:""}),i.name]}),renderInput:e=>(0,P.jsx)(x.A,{...e,label:"Choose a assignee",inputProps:{...e.inputProps,autoComplete:"new-password"}})})})})]})}),(0,P.jsx)(l.Ay,{item:!0,xs:12,children:(0,P.jsxs)(l.Ay,{container:!0,alignItems:"center",spacing:2,children:[(0,P.jsx)(l.Ay,{item:!0,xs:12,sm:4,children:(0,P.jsx)(d.A,{variant:"subtitle1",children:"Prioritize:"})}),(0,P.jsx)(l.Ay,{item:!0,xs:12,sm:8,children:(0,P.jsx)(m.A,{children:(0,P.jsxs)(p.A,{row:!0,"aria-label":"color",value:E.values.priority,onChange:E.handleChange,name:"priority",id:"priority",children:[(0,P.jsx)(u.A,{value:"low",control:(0,P.jsx)(j.A,{color:"primary",sx:{color:"primary.main"}}),label:"Low"}),(0,P.jsx)(u.A,{value:"medium",control:(0,P.jsx)(j.A,{color:"warning",sx:{color:"warning.main"}}),label:"Medium"}),(0,P.jsx)(u.A,{value:"high",control:(0,P.jsx)(j.A,{color:"error",sx:{color:"error.main"}}),label:"High"})]})})})]})}),(0,P.jsx)(l.Ay,{item:!0,xs:12,children:(0,P.jsxs)(l.Ay,{container:!0,alignItems:"center",spacing:2,children:[(0,P.jsx)(l.Ay,{item:!0,xs:12,sm:4,children:(0,P.jsx)(d.A,{variant:"subtitle1",children:"Due date:"})}),(0,P.jsx)(l.Ay,{item:!0,xs:12,sm:8,children:(0,P.jsx)(b.T,{label:"Due Date",value:E.values.dueDate,format:"dd/MM/yyyy",onChange:e=>{E.setFieldValue("dueDate",e)},slotProps:{textField:{fullWidth:!0}}})})]})}),(0,P.jsx)(l.Ay,{item:!0,xs:12,children:(0,P.jsxs)(l.Ay,{container:!0,alignItems:"center",spacing:2,children:[(0,P.jsx)(l.Ay,{item:!0,xs:12,sm:4,children:(0,P.jsx)(d.A,{variant:"subtitle1",children:"Acceptance:"})}),(0,P.jsx)(l.Ay,{item:!0,xs:12,sm:8,children:(0,P.jsx)(x.A,{fullWidth:!0,id:"acceptance",name:"acceptance",multiline:!0,rows:3,value:E.values.acceptance,onChange:E.handleChange,error:E.touched.acceptance&&Boolean(E.errors.acceptance),helperText:E.touched.acceptance&&E.errors.acceptance,placeholder:"Enter Your Message"})})]})}),(0,P.jsx)(l.Ay,{item:!0,xs:12,children:(0,P.jsxs)(l.Ay,{container:!0,alignItems:"center",spacing:2,children:[(0,P.jsx)(l.Ay,{item:!0,xs:12,sm:4,children:(0,P.jsx)(d.A,{variant:"subtitle1",children:"Description:"})}),(0,P.jsx)(l.Ay,{item:!0,xs:12,sm:8,children:(0,P.jsx)(x.A,{fullWidth:!0,id:"description",name:"description",multiline:!0,rows:3,value:E.values.description,onChange:E.handleChange,error:E.touched.description&&Boolean(E.errors.description),helperText:E.touched.description&&E.errors.description,placeholder:"Enter Your Message"})})]})}),(0,P.jsx)(l.Ay,{item:!0,xs:12,children:(0,P.jsxs)(l.Ay,{container:!0,alignItems:"center",spacing:2,children:[(0,P.jsx)(l.Ay,{item:!0,xs:12,sm:4,children:(0,P.jsx)(d.A,{variant:"subtitle1",children:"State:"})}),(0,P.jsx)(l.Ay,{item:!0,xs:12,sm:8,children:(0,P.jsx)(m.A,{fullWidth:!0,children:(0,P.jsx)(A.A,{id:"columnId",name:"columnId",displayEmpty:!0,value:E.values.columnId,onChange:E.handleChange,inputProps:{"aria-label":"Without label"},children:z.map(((e,i)=>(0,P.jsx)(y.A,{value:e.id,children:e.title},i)))})})})]})}),(0,P.jsx)(l.Ay,{item:!0,xs:12,children:(0,P.jsxs)(l.Ay,{container:!0,alignItems:"center",spacing:2,children:[(0,P.jsx)(l.Ay,{item:!0,xs:12,sm:4,children:(0,P.jsx)(d.A,{variant:"subtitle1",children:"Attachments:"})}),(0,P.jsx)(l.Ay,{item:!0,xs:12,sm:8,children:(0,P.jsx)(k.A,{attachments:[]})})]})}),(0,P.jsx)(l.Ay,{item:!0,xs:12,children:(0,P.jsx)(H.A,{children:(0,P.jsx)(o.A,{fullWidth:!0,variant:"contained",type:"submit",children:"Save"})})})]})})})}),(0,P.jsx)(l.Ay,{item:!0,xs:12,children:(null===i||void 0===i?void 0:i.commentIds)&&[...i.commentIds].reverse().map(((e,i)=>{const t=F.filter((i=>i.id===e))[0],n=W.filter((e=>e.id===t.profileId))[0];return(0,P.jsx)(L,{comment:t,profile:n},i)}))}),(0,P.jsx)(l.Ay,{item:!0,xs:12,children:(0,P.jsx)(U,{storyId:i.id})})]})})})]})})}},65279:(e,i,t)=>{t.d(i,{A:()=>o});var n=t(83462),s=t(26600),r=t(29347),l=t(42518),a=t(70579);function o(e){let{title:i,open:t,handleClose:o}=e;return(0,a.jsx)(n.A,{open:t,onClose:()=>o(!1),keepMounted:!0,maxWidth:"xs","aria-labelledby":"item-delete-title","aria-describedby":"item-delete-description",children:t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(s.A,{id:"item-delete-title",children:[i," - Are you sure you want to delete this item?"]}),(0,a.jsxs)(r.A,{sx:{mr:2},children:[(0,a.jsx)(l.A,{onClick:()=>o(!1),color:"error",children:"Cancel"}),(0,a.jsx)(l.A,{variant:"contained",size:"small",onClick:()=>o(!0),autoFocus:!0,children:"Delete"})]})]})})}},55514:(e,i,t)=>{t.d(i,{A:()=>A});var n=t(65043),s=t(34535),r=t(90310),l=t(96446),a=t(63336),o=t(17392),d=t(42518),c=t(53536),x=t(98900),h=t(85502),m=t(65916),p=t(70579);const u=(0,s.Ay)("div")((e=>{let{theme:i}=e;return{width:64,height:64,fontSize:24,display:"flex",cursor:"pointer",alignItems:"center",justifyContent:"center",margin:i.spacing(.5),borderRadius:i.shape.borderRadius,"&:hover":{opacity:.72}}}));function j(){const[e,i]=(0,n.useState)([]),t=(0,n.useCallback)((e=>{i(e.map((e=>{const i=new FileReader;return i.onabort=()=>console.log("file reading was aborted"),i.onerror=()=>console.log("file reading has failed"),i.onload=()=>{const e=i.result;console.log(e)},i.readAsArrayBuffer(e),Object.assign(e,{preview:URL.createObjectURL(e)})})))}),[i]),{getRootProps:s,getInputProps:j,isDragActive:A}=(0,x.VB)({onDrop:t});return(0,p.jsxs)(p.Fragment,{children:[e.map((t=>{const{name:n,preview:s}=t,d=(0,c.isString)(t)?t:n;return(0,p.jsxs)(l.A,{sx:{p:0,m:.5,width:64,height:64,borderRadius:.25,overflow:"hidden",position:"relative"},children:[(0,p.jsx)(a.A,{variant:"outlined",component:"img",src:(0,c.isString)(t)?t:s,sx:{width:"100%",height:"100%",objectFit:"cover",position:"absolute",borderRadius:1}}),(0,p.jsx)(l.A,{sx:{top:6,right:6,position:"absolute"},children:(0,p.jsx)(o.A,{size:"small",onClick:()=>(t=>{const n=e.filter((e=>e!==t));i(n)})(t),sx:{p:"1px",color:"common.white",bgcolor:e=>(0,r.X4)(e.palette.grey[900],.72),"&:hover":{bgcolor:e=>(0,r.X4)(e.palette.grey[900],.48)}},children:(0,p.jsx)(h.A,{})})})]},d)})),(0,p.jsxs)(u,{...s(),sx:{...A&&{opacity:.72}},children:[(0,p.jsx)("input",{...j()}),(0,p.jsx)(d.A,{variant:"outlined",size:"large",sx:{p:2.25},children:(0,p.jsx)(m.A,{})})]})]})}const A=()=>(0,p.jsx)(l.A,{sx:{display:"flex"},children:(0,p.jsx)(j,{})})},10821:(e,i,t)=>{t.d(i,{A:()=>Z});var n=t(65043),s=t(60295),r=t(96446),l=t(68903),a=t(88911),o=t(42518),d=t(85865),c=t(39336),x=t(90864),h=t.n(x),m=t(26240),p=t(12110),u=t(1062),j=t(13383),A=t(70579);const y=t(40630),g=e=>{let{comment:i,profile:t}=e;const n=(0,m.A)();return(0,A.jsx)(p.A,{sx:{background:"dark"===n.palette.mode?n.palette.dark.main:n.palette.grey[50],p:1.5,mt:1.25},children:(0,A.jsxs)(l.Ay,{container:!0,spacing:1,children:[(0,A.jsx)(l.Ay,{item:!0,xs:12,children:(0,A.jsxs)(l.Ay,{container:!0,wrap:"nowrap",alignItems:"center",spacing:1,children:[(0,A.jsx)(l.Ay,{item:!0,children:(0,A.jsx)(u.A,{sx:{width:24,height:24},size:"sm",alt:"User 1",src:t&&t.avatar&&y(`./${t.avatar}`)})}),(0,A.jsx)(l.Ay,{item:!0,xs:!0,zeroMinWidth:!0,children:(0,A.jsxs)(l.Ay,{container:!0,alignItems:"center",spacing:1,children:[(0,A.jsx)(l.Ay,{item:!0,children:(0,A.jsx)(d.A,{align:"left",variant:"h5",component:"div",children:t.name})}),(0,A.jsx)(l.Ay,{item:!0,children:(0,A.jsxs)(d.A,{align:"left",variant:"caption",children:[(0,A.jsx)(j.A,{sx:{width:10,height:10,opacity:.5,my:0,mx:.625}}),t.time]})})]})})]})}),(0,A.jsx)(l.Ay,{item:!0,xs:12,sx:{"&.MuiGrid-root":{pt:1.5}},children:(0,A.jsx)(d.A,{align:"left",variant:"body2",children:null===i||void 0===i?void 0:i.comment})})]})})};var v=t(67784),b=t(23609),f=t(53193),w=t(78492),C=t(74605),I=t(14256),k=t(72221),D=t(32143),S=t(37798),W=t(58390),M=t(12820),z=t(80899),F=t(63516),O=t(55514),R=t(69889),T=t(50257),P=t(83482),E=t(85045);const U=t(40630),$=z.Ik({title:z.Yj().required("Task title is required"),dueDate:z.p6()}),V=e=>{let{item:i,profiles:t,userStory:n,columns:s,handleDrawerOpen:a}=e;const c=(0,P.wA)(),{items:x}=(0,P.d4)((e=>e.kanban)),h=n.filter((e=>e.itemIds.filter((e=>e===i.id))[0]))[0],m=s.filter((e=>e.itemIds.filter((e=>e===i.id))[0]))[0],p=(0,F.Wx)({enableReinitialize:!0,initialValues:{id:i.id,title:i.title,assign:i.assign,priority:i.priority,dueDate:i.dueDate?new Date(i.dueDate):new Date,description:i.description,commentIds:i.commentIds,image:i.image,storyId:h?h.id:"",columnId:m?m.id:"",attachments:i.attachments},validationSchema:$,onSubmit:e=>{const i={id:e.id,title:e.title,assign:e.assign,priority:e.priority,dueDate:e.dueDate?new Date(e.dueDate):new Date,description:e.description,commentIds:e.commentIds,image:e.image,attachments:e.attachments};c((0,E.ij)(e.columnId,s,i,x,e.storyId,n)),c((0,T.aN)({open:!0,message:"Submit Success",variant:"alert",alert:{color:"success"},close:!1})),a()}});return(0,A.jsx)("form",{onSubmit:p.handleSubmit,children:(0,A.jsx)(W.$,{dateAdapter:S.h,children:(0,A.jsxs)(l.Ay,{container:!0,spacing:3,children:[(0,A.jsx)(l.Ay,{item:!0,xs:12,children:(0,A.jsx)(v.A,{fullWidth:!0,id:"title",name:"title",label:"Title",value:p.values.title,onChange:p.handleChange,error:p.touched.title&&Boolean(p.errors.title),helperText:p.touched.title&&p.errors.title})}),(0,A.jsx)(l.Ay,{item:!0,xs:12,children:(0,A.jsxs)(l.Ay,{container:!0,alignItems:"center",spacing:2,children:[(0,A.jsx)(l.Ay,{item:!0,xs:12,sm:4,children:(0,A.jsx)(d.A,{variant:"subtitle1",children:"Assign to:"})}),(0,A.jsx)(l.Ay,{item:!0,xs:12,sm:8,children:(0,A.jsx)(l.Ay,{container:!0,justifyContent:"flex-start",children:(0,A.jsx)(b.A,{id:"assign",value:t.find((e=>e.id===p.values.assign)),onChange:(e,i)=>{p.setFieldValue("assign",null===i||void 0===i?void 0:i.id)},options:t,fullWidth:!0,autoHighlight:!0,getOptionLabel:e=>e.name,isOptionEqualToValue:e=>e.id===p.values.assign,renderOption:(e,i)=>(0,A.jsxs)(r.A,{component:"li",sx:{"& > img":{mr:2,flexShrink:0}},...e,children:[(0,A.jsx)("img",{loading:"lazy",width:"20",src:U(`./${i.avatar}`),alt:""}),i.name]}),renderInput:e=>(0,A.jsx)(v.A,{...e,name:"assign",label:"Choose a assignee",inputProps:{...e.inputProps,autoComplete:"new-password"}})})})})]})}),(0,A.jsx)(l.Ay,{item:!0,xs:12,children:(0,A.jsxs)(l.Ay,{container:!0,alignItems:"center",spacing:2,children:[(0,A.jsx)(l.Ay,{item:!0,xs:12,sm:4,children:(0,A.jsx)(d.A,{variant:"subtitle1",children:"Prioritize:"})}),(0,A.jsx)(l.Ay,{item:!0,xs:12,sm:8,children:(0,A.jsx)(f.A,{children:(0,A.jsxs)(w.A,{row:!0,"aria-label":"color",value:p.values.priority,onChange:p.handleChange,name:"priority",id:"priority",children:[(0,A.jsx)(C.A,{value:"low",control:(0,A.jsx)(I.A,{color:"primary",sx:{color:"primary.main"}}),label:"Low"}),(0,A.jsx)(C.A,{value:"medium",control:(0,A.jsx)(I.A,{color:"warning",sx:{color:"warning.main"}}),label:"Medium"}),(0,A.jsx)(C.A,{value:"high",control:(0,A.jsx)(I.A,{color:"error",sx:{color:"error.main"}}),label:"High"})]})})})]})}),(0,A.jsx)(l.Ay,{item:!0,xs:12,children:(0,A.jsxs)(l.Ay,{container:!0,alignItems:"center",spacing:2,children:[(0,A.jsx)(l.Ay,{item:!0,xs:12,sm:4,children:(0,A.jsx)(d.A,{variant:"subtitle1",children:"Due date:"})}),(0,A.jsx)(l.Ay,{item:!0,xs:12,sm:8,children:(0,A.jsx)(M.T,{label:"Due Date",value:p.values.dueDate,format:"dd/MM/yyyy",onChange:e=>{p.setFieldValue("dueDate",e)},slotProps:{textField:{fullWidth:!0}}})})]})}),(0,A.jsx)(l.Ay,{item:!0,xs:12,children:(0,A.jsxs)(l.Ay,{container:!0,alignItems:"center",spacing:2,children:[(0,A.jsx)(l.Ay,{item:!0,xs:12,sm:4,children:(0,A.jsx)(d.A,{variant:"subtitle1",children:"Description:"})}),(0,A.jsx)(l.Ay,{item:!0,xs:12,sm:8,children:(0,A.jsx)(v.A,{fullWidth:!0,id:"description",name:"description",multiline:!0,rows:3,value:p.values.description,onChange:p.handleChange,error:p.touched.description&&Boolean(p.errors.description),helperText:p.touched.description&&p.errors.description})})]})}),(0,A.jsx)(l.Ay,{item:!0,xs:12,children:(0,A.jsxs)(l.Ay,{container:!0,alignItems:"center",spacing:2,children:[(0,A.jsx)(l.Ay,{item:!0,xs:12,sm:4,children:(0,A.jsx)(d.A,{variant:"subtitle1",children:"User Story:"})}),(0,A.jsx)(l.Ay,{item:!0,xs:12,sm:8,children:(0,A.jsx)(f.A,{fullWidth:!0,children:(0,A.jsx)(k.A,{id:"storyId",name:"storyId",displayEmpty:!0,value:p.values.storyId,onChange:p.handleChange,inputProps:{"aria-label":"Without label"},children:n.map(((e,i)=>(0,A.jsxs)(D.A,{value:e.id,children:[e.id," - ",e.title]},i)))})})})]})}),(0,A.jsx)(l.Ay,{item:!0,xs:12,children:(0,A.jsxs)(l.Ay,{container:!0,alignItems:"center",spacing:2,children:[(0,A.jsx)(l.Ay,{item:!0,xs:12,sm:4,children:(0,A.jsx)(d.A,{variant:"subtitle1",children:"State:"})}),(0,A.jsx)(l.Ay,{item:!0,xs:12,sm:8,children:(0,A.jsx)(f.A,{fullWidth:!0,children:(0,A.jsx)(k.A,{id:"columnId",name:"columnId",displayEmpty:!0,value:p.values.columnId,onChange:p.handleChange,inputProps:{"aria-label":"Without label"},children:s.map(((e,i)=>(0,A.jsx)(D.A,{value:e.id,children:e.title},i)))})})})]})}),(0,A.jsx)(l.Ay,{item:!0,xs:12,children:(0,A.jsxs)(l.Ay,{container:!0,alignItems:"center",spacing:2,children:[(0,A.jsx)(l.Ay,{item:!0,xs:12,sm:4,children:(0,A.jsx)(d.A,{variant:"subtitle1",children:"Attachments:"})}),(0,A.jsx)(l.Ay,{item:!0,xs:12,sm:8,children:(0,A.jsx)(O.A,{attachments:p.values.attachments})})]})}),(0,A.jsx)(l.Ay,{item:!0,xs:12,children:(0,A.jsx)(R.A,{children:(0,A.jsx)(o.A,{fullWidth:!0,variant:"contained",type:"submit",children:"Save"})})})]})})})};var q=t(93998),B=t(87874),L=t(51757),N=t(26869),H=t(35634);const X=new q.Chance,Y=e=>{let{itemId:i}=e;const t=(0,m.A)(),s=(0,P.wA)(),{borderRadius:a}=(0,B.A)(),{comments:d,items:c}=(0,P.d4)((e=>e.kanban)),[x,h]=(0,n.useState)(""),[p,u]=(0,n.useState)(!1),j=()=>{if(x.length>0){const e={id:`${X.integer({min:1e3,max:9999})}`,comment:x,profileId:"profile-1"};s((0,E.Ub)(i,e,c,d)),s((0,T.aN)({open:!0,message:"Comment Add successfully",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"success"},close:!1})),h("")}else u(!0)};return(0,A.jsx)(r.A,{sx:{p:2.5,border:"1px solid",borderColor:"dark"===t.palette.mode?t.palette.background.default:t.palette.primary[200]+75,borderRadius:`${a}px`},children:(0,A.jsxs)(l.Ay,{container:!0,alignItems:"center",spacing:.5,children:[(0,A.jsx)(l.Ay,{item:!0,xs:12,children:(0,A.jsx)(v.A,{fullWidth:!0,placeholder:"Add Comment",value:x,onChange:e=>{const i=e.target.value;h(i),i.length<=0?u(!0):u(!1)},sx:{mb:2,"& input":{bgcolor:"transparent",p:0,borderRadius:"0px"},"& fieldset":{display:"none"},"& .MuiFormHelperText-root":{ml:0},"& .MuiOutlinedInput-root":{bgcolor:"transparent"}},onKeyUp:e=>{"Enter"!==e.key&&13!==e.keyCode||j()},helperText:p?"Comment is required.":"",error:p})}),(0,A.jsx)(l.Ay,{item:!0,children:(0,A.jsx)(o.A,{variant:"text",color:"primary",sx:{p:.5,minWidth:32},"aria-label":"add photo",children:(0,A.jsx)(L.A,{})})}),(0,A.jsx)(l.Ay,{item:!0,children:(0,A.jsx)(o.A,{variant:"text",color:"primary",sx:{p:.5,minWidth:32},"aria-label":"attachment",children:(0,A.jsx)(N.A,{})})}),(0,A.jsx)(l.Ay,{item:!0,children:(0,A.jsx)(o.A,{variant:"text",color:"primary",sx:{p:.5,minWidth:32},"aria-label":"add file for your google drive",children:(0,A.jsx)(H.A,{})})}),(0,A.jsx)(l.Ay,{item:!0,xs:!0,zeroMinWidth:!0}),(0,A.jsx)(l.Ay,{item:!0,children:(0,A.jsx)(o.A,{variant:"contained",color:"primary",onClick:j,children:"Comment"})})]})})};var G=t(65279),K=t(60677),_=t(5393);const Z=()=>{let e,i=(0,A.jsx)(A.Fragment,{});const t=(0,P.wA)(),x=(0,P.d4)((e=>e.kanban)),{columns:m,comments:p,profiles:u,items:j,selectedItem:y,userStory:v}=x,[b,f]=(0,n.useState)(!1!==y),w=()=>{f((e=>!e)),t((0,E.mL)(!1))};var C;((0,n.useEffect)((()=>{!1!==y&&f(!0)}),[y]),!1!==y)&&(e=j.filter((e=>e.id===y))[0],null!==(C=e)&&void 0!==C&&C.commentIds&&(i=[...e.commentIds].reverse().map(((e,i)=>{const t=p.filter((i=>i.id===e))[0],n=u.filter((e=>e.id===t.profileId))[0];return(0,A.jsx)(g,{comment:t,profile:n},i)}))));const[I,k]=(0,n.useState)(!1);return(0,A.jsx)(s.Ay,{sx:{ml:b?3:0,flexShrink:0,zIndex:1200,overflowX:"hidden",width:{xs:320,md:450},"& .MuiDrawer-paper":{height:"100vh",width:{xs:320,md:450},position:"fixed",border:"none",borderRadius:"0px"}},variant:"temporary",anchor:"right",open:b,ModalProps:{keepMounted:!0},onClose:w,children:b&&(0,A.jsxs)(A.Fragment,{children:[e&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(r.A,{sx:{p:3},children:(0,A.jsxs)(l.Ay,{container:!0,alignItems:"center",spacing:.5,justifyContent:"space-between",children:[(0,A.jsx)(l.Ay,{item:!0,sx:{width:"calc(100% - 50px)"},children:(0,A.jsxs)(a.A,{direction:"row",spacing:.5,alignItems:"center",children:[(0,A.jsx)(o.A,{variant:"text",color:"error",sx:{p:.5,minWidth:32,display:{xs:"block",md:"none"}},onClick:w,children:(0,A.jsx)(_.A,{})}),(0,A.jsx)(d.A,{variant:"h4",sx:{display:"inline-block",width:"calc(100% - 34px)",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",verticalAlign:"middle"},children:e.title})]})}),(0,A.jsxs)(l.Ay,{item:!0,children:[(0,A.jsx)(o.A,{variant:"text",color:"error",sx:{p:.5,minWidth:32},onClick:()=>k(!0),children:(0,A.jsx)(K.A,{})}),(0,A.jsx)(G.A,{title:e.title,open:I,handleClose:i=>{k(!1),i&&(w(),t((0,E.c1)(e.id,j,m,v)),t((0,T.aN)({open:!0,message:"Task Deleted successfully",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"success"},close:!1})))}})]})]})}),(0,A.jsx)(c.A,{}),(0,A.jsx)(h(),{component:"div",children:(0,A.jsx)(r.A,{sx:{p:3},children:(0,A.jsxs)(l.Ay,{container:!0,spacing:2,children:[(0,A.jsx)(l.Ay,{item:!0,xs:12,children:(0,A.jsx)(V,{item:e,profiles:u,userStory:v,columns:m,handleDrawerOpen:w})}),(0,A.jsx)(l.Ay,{item:!0,xs:12,children:i}),(0,A.jsx)(l.Ay,{item:!0,xs:12,children:(0,A.jsx)(Y,{itemId:y})})]})})})]}),!e&&(0,A.jsx)(a.A,{justifyContent:"center",alignItems:"center",sx:{height:"100vh"},children:(0,A.jsx)(d.A,{variant:"h5",color:"error",children:"No item found"})})]})})}}}]);
//# sourceMappingURL=4208.7769223e.chunk.js.map